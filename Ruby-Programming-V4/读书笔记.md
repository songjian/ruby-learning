# Ruby基础教程v4

## 第5章 条件判断

### ruby的三种主要条件判断语句
* if
* unless
* case

### Ruby真假值
|真|假|
|--|--|
|真|false、nil以外的所有对象|
|假|false、nil|

### if语句

```ruby
if 条件 then
end
```

then 可以省略

### unless语句

条件为假时执行

```ruby
unless 条件 then
end
```
then 可以省略

### case语句

```ruby
case 比较对象
when 值1 then
  处理1
when 值2 then
  处理2
when 值3 then
  处理3
else
  处理4
end
```

then 可以省略

### === 与 case
在case语句中，when判断值是否相等时，实际是使用===运算符来判断。左边是数值或字符串时，===与==意义一样，除此之外，===还可以与=~一样用来判断正则表达式是否匹配，或者判断右边的对象是否属于左边的类，等等。对比单纯的判断两边的值是否相等，===能表达更加广义的"相等"。

### eql? 判断值相等比 == 严谨
例如：0 与 0.0 和 1.0 与 1 eql? 返回 false  ==返回 true

## 第6章 循环

### 实现循环的方法

* times 方法
* while 语句
* each 方法
* for 语句
* until 语句
* loop 方法

#### times方法

```ruby
# 满地油菜花输出7遍
7.times do
  puts "满地油菜花"
end
```

得到当前的循环次数
```ruby
10.times do |i|
  puts i
end
```

#### for语句

for语句与times方法不一样，循环的开始值和结束值可以任意指定。

```ruby
sum = 0
for i in 1..5 do
  sum = sum + i
end
puts sum
```
do可以省略

计算变量from到变量to累加的总数
```ruby
from = 10
to = 20
sum = 0
for i in from..to
  sum = sum + i
end
puts sum
```

#### 普通for语句

```ruby
names = ["awk", "Perl", "Python", "Ruby"]
for name in names
  puts name
end
```

#### while语句

```ruby
i = 1
while i < 3
  puts i
  i += 1
end
```
#### until语句

until语句的结构与white完全一样，只是条件判断刚好相反，不满足条件时才执行循环处理

#### each方法

each方法将对象集合里的对象逐条取出

```ruby
names = ["awk", "Perl", "Python", "Ruby"]
names.each do |name|
  puts name
end
```

```ruby
sum = 0
(1..5).each do |i|
  sum = sum + i
end
puts sum
```

#### loop方法

loop方法没有终止条件，只是不断的执行循环

### 循环控制

* break 终止程序，跳出循环
* next 跳到下一次循环
* redo 在相同的条件下重复刚才的处理

#### break

break会终止全体循环程序

#### next

next会忽略next后面的部分，跳到下一个循环开始的部分

#### redo

redo和next非常像，与next不同之处是，redo会再执行一次相同的循环
break和next比较常用，redo在ruby默认提供的程序库里也很难找到踪影

### do ~ end 与 { ~ }

一般的约定

* 程序是跨行写的时候使用 do ~ end
* 程序写在1行的时候用 { ~}
